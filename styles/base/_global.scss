// ============================================
// PHARMSYNC - GLOBAL STYLES
// Base application styles and typography
// ============================================

// ---------------------------------------------
// HTML & BODY
// ---------------------------------------------
html {
  font-size: 16px;
  scroll-behavior: smooth;

  @media (prefers-reduced-motion: reduce) {
    scroll-behavior: auto;
  }
}

body {
  @include typography($md-sys-typescale-body-medium);
  background: var(--md-sys-color-background);
  color: var(--md-sys-color-on-background);
  overflow-x: hidden;
}

// ---------------------------------------------
// TYPOGRAPHY ELEMENTS
// ---------------------------------------------

// Headings
h1 {
  @include typography($md-sys-typescale-display-small);
  color: var(--md-sys-color-on-surface);
  margin-bottom: $spacing-4;

  @include respond-above('md') {
    @include typography($md-sys-typescale-display-medium);
  }
}

h2 {
  @include typography($md-sys-typescale-headline-medium);
  color: var(--md-sys-color-on-surface);
  margin-bottom: $spacing-3;

  @include respond-above('md') {
    @include typography($md-sys-typescale-headline-large);
  }
}

h3 {
  @include typography($md-sys-typescale-headline-small);
  color: var(--md-sys-color-on-surface);
  margin-bottom: $spacing-3;
}

h4 {
  @include typography($md-sys-typescale-title-large);
  color: var(--md-sys-color-on-surface);
  margin-bottom: $spacing-2;
}

h5 {
  @include typography($md-sys-typescale-title-medium);
  color: var(--md-sys-color-on-surface);
  margin-bottom: $spacing-2;
}

h6 {
  @include typography($md-sys-typescale-title-small);
  color: var(--md-sys-color-on-surface);
  margin-bottom: $spacing-2;
}

// Paragraphs
p {
  @include typography($md-sys-typescale-body-medium);
  color: var(--md-sys-color-on-surface);
  margin-bottom: $spacing-3;

  &:last-child {
    margin-bottom: 0;
  }
}

// Small text
small {
  @include typography($md-sys-typescale-body-small);
  color: var(--md-sys-color-on-surface-variant);
}

// Strong/Bold
strong,
b {
  font-weight: 600;
  color: var(--md-sys-color-on-surface);
}

// Emphasis
em,
i {
  font-style: italic;
}

// Code
code {
  font-family: $font-family-mono;
  font-size: 0.9em;
  padding: 2px 6px;
  background: var(--md-sys-color-surface-container-high);
  color: var(--md-sys-color-secondary);
  border-radius: $md-sys-shape-corner-extra-small;
}

pre {
  font-family: $font-family-mono;
  font-size: 14px;
  padding: $spacing-4;
  background: var(--md-sys-color-surface-container-high);
  color: var(--md-sys-color-on-surface);
  border-radius: $md-sys-shape-corner-small;
  overflow-x: auto;
  margin-bottom: $spacing-4;

  code {
    padding: 0;
    background: none;
    color: inherit;
  }
}

// Links
a {
  color: var(--md-sys-color-primary);
  text-decoration: none;
  @include transition(color);

  &:hover {
    color: var(--md-sys-color-primary-fixed-dim);
    text-decoration: underline;
  }

  &:focus-visible {
    @include focus-ring;
  }
}

// ---------------------------------------------
// LISTS
// ---------------------------------------------
ul,
ol {
  padding-left: $spacing-6;
  margin-bottom: $spacing-4;

  li {
    margin-bottom: $spacing-2;
  }

  &:last-child {
    margin-bottom: 0;
  }
}

ul {
  list-style: disc;
}

ol {
  list-style: decimal;
}

// ---------------------------------------------
// BLOCKQUOTE
// ---------------------------------------------
blockquote {
  padding: $spacing-4;
  margin: $spacing-4 0;
  border-left: 4px solid var(--md-sys-color-primary);
  background: var(--md-sys-color-surface-container-low);
  border-radius: $md-sys-shape-corner-small;

  p {
    margin-bottom: 0;
  }

  cite {
    @include typography($md-sys-typescale-label-medium);
    color: var(--md-sys-color-on-surface-variant);
    display: block;
    margin-top: $spacing-2;
  }
}

// ---------------------------------------------
// FORM ELEMENTS
// ---------------------------------------------
input,
textarea,
select {
  @include input-field;
}

input[type='checkbox'],
input[type='radio'] {
  width: auto;
  padding: 0;
  margin-right: $spacing-2;
}

label {
  @include typography($md-sys-typescale-label-large);
  color: var(--md-sys-color-on-surface);
  display: block;
  margin-bottom: $spacing-1;
}

fieldset {
  border: 1px solid var(--md-sys-color-outline-variant);
  border-radius: $md-sys-shape-corner-small;
  padding: $spacing-4;
  margin-bottom: $spacing-4;
}

legend {
  @include typography($md-sys-typescale-title-small);
  color: var(--md-sys-color-on-surface);
  padding: 0 $spacing-2;
}

// ---------------------------------------------
// UTILITY CLASSES
// ---------------------------------------------

// Container
.container {
  width: 100%;
  max-width: $container-xl;
  margin: 0 auto;
  padding: 0 $spacing-4;

  @include respond-above('md') {
    padding: 0 $spacing-6;
  }

  @include respond-above('lg') {
    padding: 0 $spacing-8;
  }
}

.container-fluid {
  width: 100%;
  padding: 0 $spacing-4;
}

// Section spacing
.section {
  padding: $spacing-section-md 0;

  @include respond-above('md') {
    padding: $spacing-section-lg 0;
  }
}

// Divider
.divider {
  height: 1px;
  background: var(--md-sys-color-outline-variant);
  margin: $spacing-4 0;
}

// Visually hidden (accessible to screen readers)
.sr-only {
  @include visually-hidden;
}

// ---------------------------------------------
// ANIMATIONS
// ---------------------------------------------

// Fade in
@include keyframes(fadeIn) {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

// Slide up
@include keyframes(slideUp) {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

// Slide down
@include keyframes(slideDown) {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

// Scale in
@include keyframes(scaleIn) {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

// Spin (for loading spinners)
@include keyframes(spin) {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

// Animation utility classes
.animate-fade-in {
  animation: fadeIn $duration-normal $easing-standard;
}

.animate-slide-up {
  animation: slideUp $duration-normal $easing-standard;
}

.animate-slide-down {
  animation: slideDown $duration-normal $easing-standard;
}

.animate-scale-in {
  animation: scaleIn $duration-normal $easing-standard;
}

.animate-spin {
  animation: spin 1s linear infinite;
}

// ---------------------------------------------
// LOADING STATE
// ---------------------------------------------
.loading {
  @include flex-center;
  min-height: 200px;
  color: var(--md-sys-color-on-surface-variant);

  &::after {
    content: '';
    @include square(40px);
    border: 3px solid var(--md-sys-color-primary-alpha-16);
    border-top-color: var(--md-sys-color-primary);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }
}

// ---------------------------------------------
// ERROR STATE
// ---------------------------------------------
.error {
  @include flex-center;
  min-height: 200px;
  padding: $spacing-6;
  text-align: center;
  color: var(--md-sys-color-error);
}
