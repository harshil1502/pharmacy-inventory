// =========================================
// PharmSync Typography System
// Material Design 3 Type Scale
// Inter (Brand/Plain) + JetBrains Mono (Code/Data)
// Mobile-Responsive Font Scaling
// =========================================

// Font Families
// -----------------------------------------
$md-sys-typescale-font-family-brand: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
$md-sys-typescale-font-family-plain: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
$md-sys-typescale-font-family-mono: 'JetBrains Mono', 'SF Mono', 'Monaco', 'Consolas', 'Courier New', monospace;

// Font Weights
// -----------------------------------------
$font-weight-light: 300;
$font-weight-regular: 400;
$font-weight-medium: 500;
$font-weight-semibold: 600;
$font-weight-bold: 700;
$font-weight-extrabold: 800;
$font-weight-black: 900;

// Mobile Scale Factor (80% on mobile)
// -----------------------------------------
$mobile-scale-factor: 0.8;

// =========================================
// M3 TYPE SCALE TOKENS (Desktop)
// All 15 styles with mobile variants
// =========================================

// Display Styles (Hero sections, landing pages)
// -----------------------------------------
$md-sys-typescale-display-large: (
  font-family: $md-sys-typescale-font-family-brand,
  font-size: 57px,
  font-size-mobile: 45px,
  line-height: 64px,
  line-height-mobile: 52px,
  font-weight: $font-weight-regular,
  letter-spacing: -0.25px
);

$md-sys-typescale-display-medium: (
  font-family: $md-sys-typescale-font-family-brand,
  font-size: 45px,
  font-size-mobile: 36px,
  line-height: 52px,
  line-height-mobile: 44px,
  font-weight: $font-weight-regular,
  letter-spacing: 0
);

$md-sys-typescale-display-small: (
  font-family: $md-sys-typescale-font-family-brand,
  font-size: 36px,
  font-size-mobile: 28px,
  line-height: 44px,
  line-height-mobile: 36px,
  font-weight: $font-weight-regular,
  letter-spacing: 0
);

// Headline Styles (Section headers, page titles)
// -----------------------------------------
$md-sys-typescale-headline-large: (
  font-family: $md-sys-typescale-font-family-brand,
  font-size: 32px,
  font-size-mobile: 28px,
  line-height: 40px,
  line-height-mobile: 36px,
  font-weight: $font-weight-regular,
  letter-spacing: 0
);

$md-sys-typescale-headline-medium: (
  font-family: $md-sys-typescale-font-family-brand,
  font-size: 28px,
  font-size-mobile: 24px,
  line-height: 36px,
  line-height-mobile: 32px,
  font-weight: $font-weight-regular,
  letter-spacing: 0
);

$md-sys-typescale-headline-small: (
  font-family: $md-sys-typescale-font-family-brand,
  font-size: 24px,
  font-size-mobile: 20px,
  line-height: 32px,
  line-height-mobile: 28px,
  font-weight: $font-weight-regular,
  letter-spacing: 0
);

// Title Styles (Card titles, dialog headers)
// -----------------------------------------
$md-sys-typescale-title-large: (
  font-family: $md-sys-typescale-font-family-plain,
  font-size: 22px,
  font-size-mobile: 20px,
  line-height: 28px,
  line-height-mobile: 26px,
  font-weight: $font-weight-medium,
  letter-spacing: 0
);

$md-sys-typescale-title-medium: (
  font-family: $md-sys-typescale-font-family-plain,
  font-size: 16px,
  font-size-mobile: 16px,
  line-height: 24px,
  line-height-mobile: 24px,
  font-weight: $font-weight-medium,
  letter-spacing: 0.15px
);

$md-sys-typescale-title-small: (
  font-family: $md-sys-typescale-font-family-plain,
  font-size: 14px,
  font-size-mobile: 14px,
  line-height: 20px,
  line-height-mobile: 20px,
  font-weight: $font-weight-medium,
  letter-spacing: 0.1px
);

// Label Styles (Buttons, tabs, form labels)
// -----------------------------------------
$md-sys-typescale-label-large: (
  font-family: $md-sys-typescale-font-family-plain,
  font-size: 14px,
  font-size-mobile: 14px,
  line-height: 20px,
  line-height-mobile: 20px,
  font-weight: $font-weight-medium,
  letter-spacing: 0.1px
);

$md-sys-typescale-label-medium: (
  font-family: $md-sys-typescale-font-family-plain,
  font-size: 12px,
  font-size-mobile: 12px,
  line-height: 16px,
  line-height-mobile: 16px,
  font-weight: $font-weight-medium,
  letter-spacing: 0.5px
);

$md-sys-typescale-label-small: (
  font-family: $md-sys-typescale-font-family-plain,
  font-size: 11px,
  font-size-mobile: 11px,
  line-height: 16px,
  line-height-mobile: 16px,
  font-weight: $font-weight-medium,
  letter-spacing: 0.5px
);

// Body Styles (Paragraphs, descriptions)
// -----------------------------------------
$md-sys-typescale-body-large: (
  font-family: $md-sys-typescale-font-family-plain,
  font-size: 16px,
  font-size-mobile: 16px,
  line-height: 24px,
  line-height-mobile: 24px,
  font-weight: $font-weight-regular,
  letter-spacing: 0.5px
);

$md-sys-typescale-body-medium: (
  font-family: $md-sys-typescale-font-family-plain,
  font-size: 14px,
  font-size-mobile: 14px,
  line-height: 20px,
  line-height-mobile: 20px,
  font-weight: $font-weight-regular,
  letter-spacing: 0.25px
);

$md-sys-typescale-body-small: (
  font-family: $md-sys-typescale-font-family-plain,
  font-size: 12px,
  font-size-mobile: 12px,
  line-height: 16px,
  line-height-mobile: 16px,
  font-weight: $font-weight-regular,
  letter-spacing: 0.4px
);

// =========================================
// TYPOGRAPHY MIXINS
// =========================================

// Base Typography Mixin (Desktop)
// -----------------------------------------
@mixin typography($scale) {
  font-family: map-get($scale, font-family);
  font-size: map-get($scale, font-size);
  line-height: map-get($scale, line-height);
  font-weight: map-get($scale, font-weight);
  letter-spacing: map-get($scale, letter-spacing);
}

// Responsive Typography Mixin (Desktop + Mobile)
// -----------------------------------------
@mixin typography-responsive($scale) {
  font-family: map-get($scale, font-family);
  font-size: map-get($scale, font-size-mobile);
  line-height: map-get($scale, line-height-mobile);
  font-weight: map-get($scale, font-weight);
  letter-spacing: map-get($scale, letter-spacing);

  @media (min-width: 768px) {
    font-size: map-get($scale, font-size);
    line-height: map-get($scale, line-height);
  }
}

// Emphasized Variants (add 200 font-weight)
// -----------------------------------------
@mixin typography-emphasized($scale) {
  @include typography($scale);
  font-weight: map-get($scale, font-weight) + 200;
}

@mixin typography-emphasized-responsive($scale) {
  @include typography-responsive($scale);
  font-weight: map-get($scale, font-weight) + 200;
}

// Monospace Variant (for data/code)
// -----------------------------------------
@mixin typography-mono($scale) {
  @include typography($scale);
  font-family: $md-sys-typescale-font-family-mono;
  font-feature-settings: 'tnum' on, 'lnum' on; // Tabular/lining numerals
}

// =========================================
// CSS CUSTOM PROPERTIES
// Desktop values with mobile overrides
// =========================================

:root {
  // Font families
  --md-sys-typescale-font-family-brand: #{$md-sys-typescale-font-family-brand};
  --md-sys-typescale-font-family-plain: #{$md-sys-typescale-font-family-plain};
  --md-sys-typescale-font-family-mono: #{$md-sys-typescale-font-family-mono};

  // Font weights
  --font-weight-light: #{$font-weight-light};
  --font-weight-regular: #{$font-weight-regular};
  --font-weight-medium: #{$font-weight-medium};
  --font-weight-semibold: #{$font-weight-semibold};
  --font-weight-bold: #{$font-weight-bold};
  --font-weight-extrabold: #{$font-weight-extrabold};
  --font-weight-black: #{$font-weight-black};

  // Display Large
  --md-sys-typescale-display-large-size: 45px;
  --md-sys-typescale-display-large-line-height: 52px;
  --md-sys-typescale-display-large-weight: #{$font-weight-regular};

  // Display Medium
  --md-sys-typescale-display-medium-size: 36px;
  --md-sys-typescale-display-medium-line-height: 44px;
  --md-sys-typescale-display-medium-weight: #{$font-weight-regular};

  // Display Small
  --md-sys-typescale-display-small-size: 28px;
  --md-sys-typescale-display-small-line-height: 36px;
  --md-sys-typescale-display-small-weight: #{$font-weight-regular};

  // Headline Large
  --md-sys-typescale-headline-large-size: 28px;
  --md-sys-typescale-headline-large-line-height: 36px;
  --md-sys-typescale-headline-large-weight: #{$font-weight-regular};

  // Headline Medium
  --md-sys-typescale-headline-medium-size: 24px;
  --md-sys-typescale-headline-medium-line-height: 32px;
  --md-sys-typescale-headline-medium-weight: #{$font-weight-regular};

  // Headline Small
  --md-sys-typescale-headline-small-size: 20px;
  --md-sys-typescale-headline-small-line-height: 28px;
  --md-sys-typescale-headline-small-weight: #{$font-weight-regular};

  // Title Large
  --md-sys-typescale-title-large-size: 20px;
  --md-sys-typescale-title-large-line-height: 26px;
  --md-sys-typescale-title-large-weight: #{$font-weight-medium};

  // Title Medium (no mobile change)
  --md-sys-typescale-title-medium-size: 16px;
  --md-sys-typescale-title-medium-line-height: 24px;
  --md-sys-typescale-title-medium-weight: #{$font-weight-medium};

  // Title Small (no mobile change)
  --md-sys-typescale-title-small-size: 14px;
  --md-sys-typescale-title-small-line-height: 20px;
  --md-sys-typescale-title-small-weight: #{$font-weight-medium};

  // Label Large (no mobile change)
  --md-sys-typescale-label-large-size: 14px;
  --md-sys-typescale-label-large-line-height: 20px;
  --md-sys-typescale-label-large-weight: #{$font-weight-medium};

  // Label Medium (no mobile change)
  --md-sys-typescale-label-medium-size: 12px;
  --md-sys-typescale-label-medium-line-height: 16px;
  --md-sys-typescale-label-medium-weight: #{$font-weight-medium};

  // Label Small (no mobile change)
  --md-sys-typescale-label-small-size: 11px;
  --md-sys-typescale-label-small-line-height: 16px;
  --md-sys-typescale-label-small-weight: #{$font-weight-medium};

  // Body Large (no mobile change)
  --md-sys-typescale-body-large-size: 16px;
  --md-sys-typescale-body-large-line-height: 24px;
  --md-sys-typescale-body-large-weight: #{$font-weight-regular};

  // Body Medium (no mobile change)
  --md-sys-typescale-body-medium-size: 14px;
  --md-sys-typescale-body-medium-line-height: 20px;
  --md-sys-typescale-body-medium-weight: #{$font-weight-regular};

  // Body Small (no mobile change)
  --md-sys-typescale-body-small-size: 12px;
  --md-sys-typescale-body-small-line-height: 16px;
  --md-sys-typescale-body-small-weight: #{$font-weight-regular};
}

// Desktop breakpoint (768px+) - Full size
@media (min-width: 768px) {
  :root {
    // Display Large
    --md-sys-typescale-display-large-size: 57px;
    --md-sys-typescale-display-large-line-height: 64px;

    // Display Medium
    --md-sys-typescale-display-medium-size: 45px;
    --md-sys-typescale-display-medium-line-height: 52px;

    // Display Small
    --md-sys-typescale-display-small-size: 36px;
    --md-sys-typescale-display-small-line-height: 44px;

    // Headline Large
    --md-sys-typescale-headline-large-size: 32px;
    --md-sys-typescale-headline-large-line-height: 40px;

    // Headline Medium
    --md-sys-typescale-headline-medium-size: 28px;
    --md-sys-typescale-headline-medium-line-height: 36px;

    // Headline Small
    --md-sys-typescale-headline-small-size: 24px;
    --md-sys-typescale-headline-small-line-height: 32px;

    // Title Large
    --md-sys-typescale-title-large-size: 22px;
    --md-sys-typescale-title-large-line-height: 28px;
  }
}

// =========================================
// UTILITY CLASSES (Responsive)
// Auto-scale on mobile
// =========================================

// Display Styles
.typescale-display-large {
  @include typography-responsive($md-sys-typescale-display-large);
}

.typescale-display-medium {
  @include typography-responsive($md-sys-typescale-display-medium);
}

.typescale-display-small {
  @include typography-responsive($md-sys-typescale-display-small);
}

// Headline Styles
.typescale-headline-large {
  @include typography-responsive($md-sys-typescale-headline-large);
}

.typescale-headline-medium {
  @include typography-responsive($md-sys-typescale-headline-medium);
}

.typescale-headline-small {
  @include typography-responsive($md-sys-typescale-headline-small);
}

// Title Styles
.typescale-title-large {
  @include typography-responsive($md-sys-typescale-title-large);
}

.typescale-title-medium {
  @include typography($md-sys-typescale-title-medium);
}

.typescale-title-small {
  @include typography($md-sys-typescale-title-small);
}

// Label Styles
.typescale-label-large {
  @include typography($md-sys-typescale-label-large);
}

.typescale-label-medium {
  @include typography($md-sys-typescale-label-medium);
}

.typescale-label-small {
  @include typography($md-sys-typescale-label-small);
}

// Body Styles
.typescale-body-large {
  @include typography($md-sys-typescale-body-large);
}

.typescale-body-medium {
  @include typography($md-sys-typescale-body-medium);
}

.typescale-body-small {
  @include typography($md-sys-typescale-body-small);
}

// =========================================
// EMPHASIZED VARIANTS
// Bolder font weight for emphasis
// =========================================

.typescale-display-large-emphasized {
  @include typography-emphasized-responsive($md-sys-typescale-display-large);
}

.typescale-headline-large-emphasized {
  @include typography-emphasized-responsive($md-sys-typescale-headline-large);
}

.typescale-title-large-emphasized {
  @include typography-emphasized-responsive($md-sys-typescale-title-large);
}

.typescale-title-medium-emphasized {
  @include typography-emphasized($md-sys-typescale-title-medium);
}

.typescale-body-medium-emphasized {
  @include typography-emphasized($md-sys-typescale-body-medium);
}

// =========================================
// MONOSPACE VARIANTS
// For SKUs, DINs, quantities, codes
// =========================================

.typescale-body-large-mono {
  @include typography-mono($md-sys-typescale-body-large);
}

.typescale-body-medium-mono {
  @include typography-mono($md-sys-typescale-body-medium);
}

.typescale-body-small-mono {
  @include typography-mono($md-sys-typescale-body-small);
}

.typescale-label-large-mono {
  @include typography-mono($md-sys-typescale-label-large);
}

// =========================================
// PHARMSYNC SPECIFIC TYPOGRAPHY
// Common patterns used across the app
// =========================================

// Page Title Pattern
.pharmsync-page-title {
  @include typography-responsive($md-sys-typescale-headline-large);
  color: var(--md-sys-color-on-surface);
  margin-bottom: $spacing-2;
}

// Page Subtitle Pattern
.pharmsync-page-subtitle {
  @include typography($md-sys-typescale-body-medium);
  color: var(--md-sys-color-on-surface-variant);
}

// Section Header Pattern
.pharmsync-section-header {
  @include typography-responsive($md-sys-typescale-headline-small);
  color: var(--md-sys-color-on-surface);
  margin-bottom: $spacing-4;
}

// Card Title Pattern
.pharmsync-card-title {
  @include typography($md-sys-typescale-title-medium);
  color: var(--md-sys-color-on-surface);
  font-weight: $font-weight-semibold;
}

// Data Label Pattern (uppercase, small, gray)
.pharmsync-data-label {
  @include typography($md-sys-typescale-label-small);
  color: var(--md-sys-color-on-surface-variant);
  text-transform: uppercase;
  letter-spacing: 0.8px;
}

// Data Value Pattern (monospace, emphasized)
.pharmsync-data-value {
  @include typography-mono($md-sys-typescale-body-medium);
  color: var(--md-sys-color-on-surface);
  font-weight: $font-weight-medium;
}

// Metadata Pattern (small, gray, timestamps)
.pharmsync-metadata {
  @include typography($md-sys-typescale-body-small);
  color: var(--md-sys-color-on-surface-variant);
}

// =========================================
// FONT FEATURE SETTINGS
// OpenType features for professional typography
// =========================================

// Tabular figures for data tables
.tabular-nums {
  font-feature-settings: 'tnum' on, 'lnum' on;
  font-variant-numeric: tabular-nums lining-nums;
}

// Proportional figures for body text
.proportional-nums {
  font-feature-settings: 'pnum' on, 'lnum' on;
  font-variant-numeric: proportional-nums lining-nums;
}

// Ligatures (default for Inter)
.ligatures {
  font-feature-settings: 'liga' on, 'calt' on;
}

// No ligatures (for code)
.no-ligatures {
  font-feature-settings: 'liga' off, 'calt' off;
}

// =========================================
// SEMANTIC HTML DEFAULTS
// Apply appropriate type scales to HTML elements
// =========================================

h1 {
  @include typography-responsive($md-sys-typescale-headline-large);
  color: var(--md-sys-color-on-surface);
}

h2 {
  @include typography-responsive($md-sys-typescale-headline-medium);
  color: var(--md-sys-color-on-surface);
}

h3 {
  @include typography-responsive($md-sys-typescale-headline-small);
  color: var(--md-sys-color-on-surface);
}

h4 {
  @include typography-responsive($md-sys-typescale-title-large);
  color: var(--md-sys-color-on-surface);
}

h5 {
  @include typography($md-sys-typescale-title-medium);
  color: var(--md-sys-color-on-surface);
}

h6 {
  @include typography($md-sys-typescale-title-small);
  color: var(--md-sys-color-on-surface);
}

p {
  @include typography($md-sys-typescale-body-medium);
  color: var(--md-sys-color-on-surface);
}

small {
  @include typography($md-sys-typescale-body-small);
  color: var(--md-sys-color-on-surface-variant);
}

code,
pre,
kbd,
samp {
  font-family: $md-sys-typescale-font-family-mono;
  @include typography($md-sys-typescale-body-small);
}

button {
  @include typography($md-sys-typescale-label-large);
}

label {
  @include typography($md-sys-typescale-label-large);
  color: var(--md-sys-color-on-surface);
}

// =========================================
// RESPONSIVE TYPOGRAPHY HELPERS
// =========================================

// Fluid typography using clamp()
@mixin fluid-type($min-size, $max-size, $min-viewport: 320px, $max-viewport: 1440px) {
  $slope: calc(($max-size - $min-size) / ($max-viewport - $min-viewport));
  $y-intercept: calc($min-size - ($slope * $min-viewport));

  font-size: clamp(
    #{$min-size},
    calc(#{$y-intercept} + #{$slope} * 100vw),
    #{$max-size}
  );
}

// Usage example:
// .hero-title {
//   @include fluid-type(32px, 57px);  // Scales smoothly from 32px to 57px
// }

// =========================================
// ACCESSIBILITY & READABILITY
// =========================================

// Optimal line length (45-75 characters)
.readable-width {
  max-width: 65ch; // ~65 characters per line
}

// Improved readability for long-form content
.long-form {
  @include typography($md-sys-typescale-body-large);
  line-height: 1.7;
  max-width: 65ch;

  h2 {
    margin-top: $spacing-8;
    margin-bottom: $spacing-4;
  }

  p {
    margin-bottom: $spacing-4;
  }
}

// =========================================
// USAGE GUIDELINES
// =========================================

// Typography Hierarchy (when to use what):
//
// Display Large/Medium/Small:
//   - Landing pages, hero sections
//   - Should be used sparingly (once per page)
//
// Headline Large:
//   - Page titles (Dashboard, Inventory, Reports)
//
// Headline Medium:
//   - Section headers within pages
//
// Headline Small:
//   - Subsection headers
//
// Title Large:
//   - Dialog/modal titles
//   - Important card headers
//
// Title Medium:
//   - Standard card headers
//   - Table column headers
//
// Title Small:
//   - Compact card headers
//   - List item titles
//
// Label Large:
//   - Button text
//   - Form labels
//   - Tab labels
//
// Label Medium:
//   - Chips, tags
//   - Small buttons
//
// Label Small:
//   - Status badges
//   - Micro-labels
//
// Body Large:
//   - Important paragraphs
//   - Dialog content
//
// Body Medium:
//   - Standard body text
//   - Table cells
//   - Card descriptions
//
// Body Small:
//   - Timestamps
//   - Metadata
//   - Helper text
//
// Monospace (JetBrains Mono):
//   - SKUs, DINs, UPCs
//   - Quantities, inventory IDs
//   - Timestamps (optional)
//   - Code snippets

